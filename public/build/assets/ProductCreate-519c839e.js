import{W as b,r as d,j as l,a as e,b as f}from"./app-150935a4.js";import{A as y}from"./AuthenticatedLayout-2a27e45d.js";function k({auth:m,categories:p}){const n=b({title:"",description:"",price:"",category_id:"",image:""}),[a,r]=d.useState({title:"",description:"",price:"",category_id:"",image:""}),[N,c]=d.useState(!1),o=t=>{const i=t.target.name,s=t.target.value;n.setData(i,s),r({...a,[i]:""})},u=t=>{t.preventDefault(),c(!0),n.post(route("products.store"),{preserveScroll:!0,onSuccess:()=>{c(!1)},onError:i=>{c(!1),r(i)}})},{data:h,setData:g}=n;return l(y,{user:m.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"محصول جدید"}),children:[e(f,{title:"New Product"}),e("div",{className:"py-8",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 px-4",children:l("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:u,children:[l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image",children:"تصویر"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"image",type:"file",onChange:t=>{const i=t.target.files[0];g({...h,image:i});const s=new FileReader;s.onload=x=>{document.getElementById("preview").src=x.target.result},s.readAsDataURL(i)}})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"پیش نمایش"}),e("img",{src:"/images/no-image.jpg",alt:"preview",className:"w-32 h-32 object-contain",id:"preview"})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"عنوان"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"title",type:"text",placeholder:"عنوان",name:"title",onChange:o}),a.title&&e("p",{className:"text-red-500 text-xs italic",children:a.title})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"توضیحات"}),e("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"description",placeholder:"توضیحات",name:"description",onChange:o}),a.description&&e("p",{className:"text-red-500 text-xs italic",children:a.description})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price",children:"قیمت"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"price",type:"number",placeholder:"قیمت",name:"price",inputMode:"numeric",onChange:o}),a.price&&e("p",{className:"text-red-500 text-xs italic",children:a.price})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"دسته بندی"}),l("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"category",name:"category_id",onChange:o,children:[e("option",{value:"",children:"انتخاب کنید"}),p.map(t=>e("option",{value:t.id,children:t.title},t.id))]}),a.category_id&&e("p",{className:"text-red-500 text-xs italic",children:a.category_id})]}),e("div",{className:"flex items-center justify-between",children:e("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",onClick:()=>{r({title:"",description:"",price:"",category_id:"",image:""})},children:"ذخیره"})})]})})})]})}export{k as default};
