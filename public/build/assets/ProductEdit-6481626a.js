import{W as f,r as u,j as l,a as e,b as y}from"./app-150935a4.js";import{A as N}from"./AuthenticatedLayout-2a27e45d.js";function S({auth:p,categories:h,product:s}){const c=f({title:s.title,description:s.description,price:s.price,category_id:s.category_id,image:"",_method:"put"}),[a,d]=u.useState({title:"",description:"",price:"",category_id:"",image:""}),[w,m]=u.useState(!1),r=t=>{const i=t.target.name,n=t.target.value;c.setData(i,n),d({...a,[i]:""})},g=t=>{t.preventDefault(),m(!0),c.post(route("products.update",s.id),{preserveScroll:!0,onSuccess:()=>{m(!1)},onError:i=>{m(!1),d(i)}})},{data:o,setData:x}=c;return l(N,{user:p.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"ویرایش محصول"}),children:[e(y,{title:"New Product"}),e("div",{className:"py-8",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 px-4",children:l("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:g,children:[l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image",children:"تصویر"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"image",type:"file",onChange:t=>{const i=t.target.files[0];x({...o,image:i});const n=new FileReader;n.onload=b=>{document.getElementById("preview").src=b.target.result},n.readAsDataURL(i)}})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"پیش نمایش"}),e("img",{alt:"preview",className:"w-32 h-32",src:s.image_url,id:"preview"})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"عنوان محصول"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"title",type:"text",placeholder:"عنوان",name:"title",value:o.title,onChange:r}),a.title&&e("p",{className:"text-red-500 text-xs italic",children:a.title})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"توضیحات"}),e("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"description",placeholder:"توضیحات",name:"description",onChange:r,defaultValue:o.description}),a.description&&e("p",{className:"text-red-500 text-xs italic",children:a.description})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price",children:"قیمت"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"price",type:"number",placeholder:"قیمت",name:"price",value:o.price,onChange:r}),a.price&&e("p",{className:"text-red-500 text-xs italic",children:a.price})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"دسته بندی"}),l("select",{className:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline appearance-none",id:"category",name:"category_id",placeholder:"دسته بندی",defaultValue:o.category_id,onChange:r,children:[e("option",{value:"",children:"Select a category"}),h.map(t=>e("option",{value:t.id,children:t.title},t.id))]}),a.category_id&&e("p",{className:"text-red-500 text-xs italic",children:a.category_id})]}),e("div",{className:"flex items-center justify-between",children:e("button",{className:"bg-rose-500 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",onClick:()=>{d({title:"",description:"",price:"",category_id:"",image:""})},children:"ذخیره تغییرات"})})]})})})]})}export{S as default};
