import{W as f,r as p,j as l,a as e,b as y}from"./app-db7a8556.js";import{A as N}from"./AuthenticatedLayout-7bd09631.js";function k({auth:h,categories:u,product:r}){const c=f({title:r.title,description:r.description,price:r.price,category_id:r.category_id,image:"",_method:"put"}),[a,d]=p.useState({title:"",description:"",price:"",category_id:"",image:""}),[w,m]=p.useState(!1),o=t=>{const i=t.target.name,s=t.target.value;c.setData(i,s),d({...a,[i]:""})},g=t=>{t.preventDefault(),m(!0),c.post(route("products.update",r.id),{preserveScroll:!0,onSuccess:()=>{m(!1)},onError:i=>{m(!1),d(i)}})},{data:n,setData:b}=c;return l(N,{user:h.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"ویرایش محصول"}),children:[e(y,{title:"New Product"}),e("div",{className:"py-8",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 px-4",children:l("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:g,children:[l("div",{className:"mb-4",children:[e("p",{className:"block text-gray-700 text-sm font-bold mb-2",children:"تصویر"}),e("input",{className:"hidden",id:"image",type:"file",placeholder:"تصویر",onChange:t=>{const i=t.target.files[0];b({...n,image:i});const s=new FileReader;s.onload=x=>{document.getElementById("preview").src=x.target.result},s.readAsDataURL(i)}}),e("label",{htmlFor:"image",className:"inline-block w-full text-center bg-transparent hover:bg-green-700 hover:text-white text-green-500 border border-green-500 font-bold py-2 px-4 rounded cursor-pointer",children:"تغییر تصویر"})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"پیش نمایش"}),e("img",{alt:"preview",className:"w-32 h-32",src:r.image_url,id:"preview"})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"عنوان محصول"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"title",type:"text",placeholder:"عنوان",name:"title",value:n.title,onChange:o}),a.title&&e("p",{className:"text-red-500 text-xs italic",children:a.title})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"توضیحات"}),e("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"description",placeholder:"توضیحات",name:"description",onChange:o,defaultValue:n.description}),a.description&&e("p",{className:"text-red-500 text-xs italic",children:a.description})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price",children:"قیمت"}),e("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"price",type:"number",placeholder:"قیمت",name:"price",value:n.price,onChange:o}),a.price&&e("p",{className:"text-red-500 text-xs italic",children:a.price})]}),l("div",{className:"mb-4",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"دسته بندی"}),l("select",{className:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline appearance-none",id:"category",name:"category_id",placeholder:"دسته بندی",defaultValue:n.category_id,onChange:o,children:[e("option",{value:"",children:"Select a category"}),u.map(t=>e("option",{value:t.id,children:t.title},t.id))]}),a.category_id&&e("p",{className:"text-red-500 text-xs italic",children:a.category_id})]}),e("div",{className:"flex items-center justify-between",children:e("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",onClick:()=>{d({title:"",description:"",price:"",category_id:"",image:""})},children:"ذخیره تغییرات"})})]})})})]})}export{k as default};
